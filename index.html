<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Korin Emberfall</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#1a1a2e;--card:#16213e;--ch:#1a2744;--acc:#e94560;--gold:#ffd700;--heal:#00cc88;--blue:#4488ff;--txt:#e0e0e0;--dim:#888;--brd:#2a2a4a;--fire:#ff6622}
body{background:var(--bg);color:var(--txt);font-family:'Segoe UI',system-ui,sans-serif;font-size:13px;padding:6px;-webkit-user-select:none;user-select:none}

/* Header bar */
.hdr{display:flex;align-items:center;gap:12px;padding:6px 8px;border-bottom:1px solid var(--brd);margin-bottom:6px}
.hdr h1{font-size:16px;color:var(--gold)}
.hdr .sub{font-size:10px;color:var(--dim);font-style:italic}
.hdr .cls{font-size:11px;color:var(--acc)}

/* HP bar inline */
.hp{display:flex;align-items:center;gap:6px;background:#111;border-radius:6px;padding:4px 8px;margin-bottom:6px}
.hp .bar{flex:1;height:16px;background:#333;border-radius:8px;overflow:hidden}
.hp .fill{height:100%;border-radius:8px;transition:width .3s}
.hp .val{font-size:15px;font-weight:bold;min-width:50px;text-align:right}
.hp .b{width:24px;height:24px;border-radius:50%;border:1px solid var(--brd);background:var(--card);color:var(--txt);font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center}
.hp .b:active{background:var(--acc)}

/* Grid layout */
.grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:6px}
@media(max-width:700px){.grid{grid-template-columns:1fr 1fr}}
@media(max-width:450px){.grid{grid-template-columns:1fr}}

.col{display:flex;flex-direction:column;gap:4px}

/* Stat pills */
.stats{display:flex;gap:3px;flex-wrap:wrap;margin-bottom:6px}
.st{background:var(--card);border-radius:4px;padding:3px 8px;text-align:center;flex:1;min-width:55px}
.st .l{font-size:8px;color:var(--dim);text-transform:uppercase}
.st .v{font-size:14px;font-weight:bold}

/* Section headers */
.sh{font-size:9px;text-transform:uppercase;letter-spacing:1px;color:var(--acc);padding:2px 0;border-bottom:1px solid var(--brd);margin-bottom:2px}

/* Ability row - compact */
.a{background:var(--card);border-radius:4px;padding:4px 6px;cursor:pointer;border-left:3px solid var(--brd);display:flex;align-items:center;gap:6px;min-height:32px;transition:background .1s}
.a:hover,.a:active{background:var(--ch)}
.a.used{opacity:.35}
.a .n{font-size:12px;font-weight:600;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.a .d{font-size:9px;color:var(--dim)}
.a .m{font-size:9px;color:var(--dim);white-space:nowrap}
.a.heal{border-left-color:var(--heal)}.a.atk{border-left-color:var(--acc)}.a.buff{border-left-color:var(--blue)}.a.racial{border-left-color:var(--gold)}.a.fire{border-left-color:var(--fire)}.a.spell{border-left-color:#aa66ff}

/* Use pips */
.pips{display:flex;gap:2px}
.pip{width:12px;height:12px;border-radius:50%;border:2px solid var(--dim);cursor:pointer;transition:all .1s}
.pip.f{background:var(--gold);border-color:var(--gold)}
.pip:hover{border-color:var(--gold)}

/* Spell slot pips */
.slots{display:flex;gap:3px;align-items:center;margin-bottom:2px}
.slots .lbl{font-size:9px;color:var(--dim);min-width:22px}
.sp{width:16px;height:16px;border-radius:3px;border:2px solid #aa66ff;cursor:pointer;transition:all .1s}
.sp.f{background:#aa66ff}

/* Dice */
.dice{display:flex;gap:3px;flex-wrap:wrap;margin-bottom:4px}
.db{padding:4px 8px;background:var(--card);border:1px solid var(--brd);border-radius:4px;color:var(--txt);font-size:11px;cursor:pointer}
.db:active{background:var(--acc)}
.dr{text-align:center;font-size:20px;font-weight:bold;color:var(--gold);min-height:28px;line-height:28px}

/* Long rest */
.lr{width:100%;padding:6px;background:#1a3a2a;border:1px solid #2a5a3a;border-radius:6px;color:var(--heal);font-size:12px;cursor:pointer;text-align:center;margin-top:4px}
.lr:active{background:#2a5a3a}

/* Detail overlay */
.ov{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.88);z-index:100;padding:16px;overflow-y:auto}
.ov.show{display:block}
.dc{background:var(--card);border-radius:8px;padding:14px;max-width:420px;margin:30px auto;border:1px solid var(--brd)}
.dc h2{font-size:15px;color:var(--gold);margin-bottom:6px}
.dc .mt{font-size:10px;color:var(--acc);margin-bottom:6px}
.dc p{font-size:12px;line-height:1.5;margin-bottom:6px}
.dc .ch{font-size:9px;color:var(--dim);text-align:center;margin-top:8px}
</style>
</head>
<body>

<div class="hdr">
  <div>
    <h1>âš”ï¸ Korin Emberfall</h1>
    <span class="sub">"The Last Spark of Hope"</span>
  </div>
  <span class="cls">Aasimar Cleric 4 Â· Light Domain Â· Icewind Dale</span>
</div>

<div class="hp">
  <span style="font-size:11px;color:var(--dim)">HP</span>
  <div class="bar"><div class="fill" id="hpF"></div></div>
  <span class="val" id="hpT">25/31</span>
  <button class="b" onclick="chHP(-1)">âˆ’</button>
  <button class="b" onclick="chHP(1)">+</button>
  <button class="b" onclick="chHP(-5)" style="font-size:10px">-5</button>
  <button class="b" onclick="chHP(5)" style="font-size:10px">+5</button>
</div>

<div class="stats">
  <div class="st"><div class="l">AC</div><div class="v">16</div></div>
  <div class="st"><div class="l">Init</div><div class="v">+1</div></div>
  <div class="st"><div class="l">Speed</div><div class="v">30</div></div>
  <div class="st"><div class="l">Prof</div><div class="v">+2</div></div>
  <div class="st"><div class="l">DC</div><div class="v">13</div></div>
  <div class="st"><div class="l">Spell</div><div class="v">+5</div></div>
  <div class="st"><div class="l">STR</div><div class="v">+0</div></div>
  <div class="st"><div class="l">DEX</div><div class="v">+1</div></div>
  <div class="st"><div class="l">CON</div><div class="v">+2</div></div>
  <div class="st"><div class="l">INT</div><div class="v">+1</div></div>
  <div class="st"><div class="l">WIS</div><div class="v">+3</div></div>
  <div class="st"><div class="l">CHA</div><div class="v">+1</div></div>
</div>

<!-- Spell Slots -->
<div style="display:flex;gap:12px;margin-bottom:6px">
  <div class="slots"><span class="lbl">1st:</span>
    <div class="sp f" onclick="tSP(this)"></div><div class="sp f" onclick="tSP(this)"></div><div class="sp f" onclick="tSP(this)"></div><div class="sp f" onclick="tSP(this)"></div>
  </div>
  <div class="slots"><span class="lbl">2nd:</span>
    <div class="sp f" onclick="tSP(this)"></div><div class="sp f" onclick="tSP(this)"></div><div class="sp f" onclick="tSP(this)"></div>
  </div>
</div>

<!-- 3-column grid -->
<div class="grid">

<!-- Column 1: Features & Racial -->
<div class="col">
  <div class="sh">Features</div>
  <div class="a racial" onclick="sd('healHands')"><div class="n">ğŸ¤² Healing Hands</div><div class="pips"><div class="pip f" onclick="event.stopPropagation();tP(this)"></div></div></div>
  <div class="a racial" onclick="sd('celRev')"><div class="n">âœ¨ Celestial Revelation</div><div class="pips"><div class="pip f" onclick="event.stopPropagation();tP(this)"></div></div></div>
  <div class="a buff" onclick="sd('chanDiv')"><div class="n">ğŸ”† Channel Divinity</div><div class="pips"><div class="pip f" onclick="event.stopPropagation();tP(this)"></div></div></div>
  <div class="a atk" onclick="sd('wardFlare')"><div class="n">ğŸ’¥ Warding Flare</div><div class="pips"><div class="pip f" onclick="event.stopPropagation();tP(this)"></div><div class="pip f" onclick="event.stopPropagation();tP(this)"></div><div class="pip f" onclick="event.stopPropagation();tP(this)"></div></div></div>
  <div class="a racial" onclick="sd('celRes')"><div class="n">ğŸ›¡ï¸ Resist Necro/Radiant</div><div class="m">Passive</div></div>
  <div class="a racial" onclick="sd('darkv')"><div class="n">ğŸ‘ï¸ Darkvision 60ft</div><div class="m">Passive</div></div>

  <div class="sh" style="margin-top:4px">Cantrips</div>
  <div class="a spell" onclick="sd('guidance')"><div class="n">ğŸ™ Guidance</div><div class="m">+1d4 chk</div></div>
  <div class="a spell" onclick="sd('light')"><div class="n">ğŸ’¡ Light</div><div class="m">20ft</div></div>
  <div class="a spell" onclick="sd('resistance')"><div class="n">ğŸ›¡ï¸ Resistance</div><div class="m">+1d4 save</div></div>
  <div class="a spell" onclick="sd('sacFlame')"><div class="n">ğŸ”¥ Sacred Flame</div><div class="m">1d8 rad</div></div>
  <div class="a spell" onclick="sd('tollDead')"><div class="n">ğŸ”” Toll the Dead</div><div class="m">1d8/d12</div></div>
</div>

<!-- Column 2: 1st Level Spells -->
<div class="col">
  <div class="sh">1st Level</div>
  <div class="a buff" onclick="sd('bane')"><div class="n">ğŸ˜ˆ Bane</div><div class="d">CHA 13 Â· Debuff Â· Conc</div></div>
  <div class="a buff" onclick="sd('bless')"><div class="n">ğŸ™Œ Bless</div><div class="d">3 targets Â· +1d4 Â· Conc</div></div>
  <div class="a fire" onclick="sd('burnHands')"><div class="n">ğŸ”¥ Burning Hands</div><div class="d">15ft cone Â· DEX 13 Â· 3d6</div></div>
  <div class="a buff" onclick="sd('faerie')"><div class="n">âœ¨ Faerie Fire</div><div class="d">60ft Â· DEX 13 Â· Adv atks Â· Conc</div></div>
  <div class="a atk" onclick="sd('guidBolt')"><div class="n">âš¡ Guiding Bolt</div><div class="d">120ft Â· +5 Â· 4d6 rad Â· Adv next</div></div>
  <div class="a atk" onclick="sd('inflict')"><div class="n">ğŸ’€ Inflict Wounds</div><div class="d">Touch Â· +5 Â· 2d10 necro</div></div>
  <div class="a buff" onclick="sd('shield')"><div class="n">ğŸ›¡ï¸ Shield of Faith</div><div class="d">BA Â· 60ft Â· +2 AC Â· Conc</div></div>
</div>

<!-- Column 3: 2nd Level + Dice -->
<div class="col">
  <div class="sh">2nd Level</div>
  <div class="a heal" onclick="sd('prayer')"><div class="n">ğŸ’š Prayer of Healing</div><div class="d">10min Â· 30ft Â· 2d8 heal</div></div>
  <div class="a fire" onclick="sd('scorchRay')"><div class="n">ğŸ”¥ğŸ”¥ Scorching Ray</div><div class="d">120ft Â· +5 Â· 3Ã—2d6 fire</div></div>
  <div class="a buff" onclick="sd('seeInvis')"><div class="n">ğŸ‘ï¸ See Invisibility</div><div class="d">Self Â· 1hr Â· No conc</div></div>
  <div class="a buff" onclick="sd('spirWeap')"><div class="n">âš”ï¸ Spiritual Weapon</div><div class="d">BA Â· +5 Â· 1d8+3 Â· No conc!</div></div>

  <div class="sh" style="margin-top:4px">2nd (upcast 1st)</div>
  <div class="a buff" onclick="sd('bane2')"><div class="n">ğŸ˜ˆ Bane +1 target</div><div class="m">2nd</div></div>
  <div class="a buff" onclick="sd('bless2')"><div class="n">ğŸ™Œ Bless +1 target</div><div class="m">2nd</div></div>
  <div class="a fire" onclick="sd('burn2')"><div class="n">ğŸ”¥ Burning Hands 4d6</div><div class="m">2nd</div></div>
  <div class="a atk" onclick="sd('guid2')"><div class="n">âš¡ Guiding Bolt 5d6</div><div class="m">2nd</div></div>
  <div class="a atk" onclick="sd('inflict2')"><div class="n">ğŸ’€ Inflict Wounds 3d10</div><div class="m">2nd</div></div>

  <div class="sh" style="margin-top:4px">Quick Roll</div>
  <div class="dr" id="dR">â€”</div>
  <div class="dice">
    <button class="db" onclick="rl(20,1,0)">d20</button>
    <button class="db" onclick="rl(20,1,5)">+5</button>
    <button class="db" onclick="rl(8,1,0)">d8</button>
    <button class="db" onclick="rl(6,4,0)">4d6</button>
    <button class="db" onclick="rl(6,3,0)">3Ã—2d6</button>
    <button class="db" onclick="rl(10,2,0)">2d10</button>
    <button class="db" onclick="rl(8,2,0)">2d8</button>
    <button class="db" onclick="rl(4,1,0)">d4</button>
  </div>
</div>

</div><!-- grid -->

<button class="lr" onclick="longRest()">ğŸŒ™ Long Rest â€” Restore All</button>

<!-- Detail overlay -->
<div class="ov" id="ov" onclick="hd()">
<div class="dc" onclick="event.stopPropagation()">
<h2 id="dT"></h2><div class="mt" id="dM"></div><div id="dB"></div><div class="ch">tap outside to close</div>
</div></div>

<script>
let hp=25;const mx=31;
function upHP(){document.getElementById('hpT').textContent=`${hp}/${mx}`;const p=hp/mx*100,f=document.getElementById('hpF');f.style.width=p+'%';f.style.background=p>50?'#44cc66':p>25?'#ccaa33':'#cc3344'}
function chHP(d){hp=Math.max(0,Math.min(mx,hp+d));upHP();sv()}
function tSP(e){e.classList.toggle('f');sv()}
function tP(e){e.classList.toggle('f');sv()}
function rl(s,c,m){let t=0,r=[];for(let i=0;i<c;i++){const v=Math.floor(Math.random()*s)+1;r.push(v);t+=v}t+=m;const ms=m?`+${m}`:'';const n=c===1&&s===20?(r[0]===20?' NAT 20! ğŸ‰':r[0]===1?' NAT 1 ğŸ’€':''):'';const e=document.getElementById('dR');e.textContent=`${t} [${r.join('+')}${ms}]${n}`;e.style.color=n.includes('20')?'#0f8':n.includes('1')?'#f44':'#ffd700'}
function longRest(){hp=mx;upHP();document.querySelectorAll('.sp,.pip').forEach(p=>p.classList.add('f'));document.getElementById('dR').textContent='ğŸŒ™ Restored!';document.getElementById('dR').style.color='#0c8';sv()}

const D={
healHands:{t:'ğŸ¤² Healing Hands',m:'Aasimar Â· Magic Action Â· 1/Long Rest',b:'<p>Touch a creature, roll 2d4 (Prof Bonus). They regain that many HP.</p>'},
celRev:{t:'âœ¨ Celestial Revelation',m:'Aasimar Â· Bonus Action Â· 1 min Â· 1/Long Rest',b:'<p>Choose one form:</p><p><b>Heavenly Wings:</b> Fly speed = walk speed.</p><p><b>Inner Radiance:</b> End of your turns, you + allies in 10ft heal CHA mod (1) HP.</p><p><b>Necrotic Shroud:</b> Enemies in 10ft CHA save (DC 11) or Frightened. Once/turn: +2 necrotic dmg.</p><p>While active: once/turn +2 radiant damage to one target.</p>'},
chanDiv:{t:'ğŸ”† Channel Divinity',m:'Action Â· 1/Short Rest',b:'<p><b>Turn Undead:</b> Undead in 30ft WIS save (DC 13) or turned 1 min.</p><p><b>Radiance of the Dawn:</b> Dispel magical darkness in 30ft. Hostiles in 30ft CON save (DC 13): <b>2d10+4 radiant</b>. Half on save. Allies unaffected!</p>'},
wardFlare:{t:'ğŸ’¥ Warding Flare',m:'Light Domain Â· Reaction Â· 3/Long Rest',b:'<p>When attacked by creature within 30ft you can see: <b>Reaction to impose disadvantage</b> on the attack roll. Attacker immune if can\'t be Blinded.</p>'},
celRes:{t:'ğŸ›¡ï¸ Celestial Resistance',m:'Passive',b:'<p>Resistance to necrotic and radiant damage (half damage).</p>'},
darkv:{t:'ğŸ‘ï¸ Darkvision',m:'Passive Â· 60 ft',b:'<p>See in dim light as bright, darkness as dim. Shades of gray only in darkness.</p>'},
guidance:{t:'ğŸ™ Guidance',m:'Cantrip Â· V,S Â· Touch Â· Conc 1 min',b:'<p>Target adds 1d4 to one ability check before spell ends.</p>'},
light:{t:'ğŸ’¡ Light',m:'Cantrip Â· V,M Â· Touch Â· 1 hr',b:'<p>Object sheds bright light 20ft, dim 20ft more. Dismiss as Action.</p>'},
resistance:{t:'ğŸ›¡ï¸ Resistance',m:'Cantrip Â· V,S Â· Touch Â· Conc 1 min',b:'<p>Target adds 1d4 to one saving throw before spell ends.</p>'},
sacFlame:{t:'ğŸ”¥ Sacred Flame',m:'Cantrip Â· V,S Â· 60ft',b:'<p>DEX save (DC 13) or 1d8 radiant. No benefit from cover. 2d8 at level 5.</p>'},
tollDead:{t:'ğŸ”” Toll the Dead',m:'Cantrip Â· V,S Â· 60ft',b:'<p>WIS save (DC 13) or 1d8 necrotic. <b>1d12 if target is missing HP!</b> 2d8/2d12 at level 5.</p>'},
bane:{t:'ğŸ˜ˆ Bane',m:'1st Â· V,S,M Â· 30ft Â· CHA 13 Â· Conc 1 min',b:'<p>Up to 3 creatures CHA save or subtract 1d4 from attack rolls and saves. Great debuff!</p>'},
bless:{t:'ğŸ™Œ Bless',m:'1st Â· V,S,M Â· 30ft Â· Conc 1 min',b:'<p>Up to 3 creatures add 1d4 to attack rolls and saving throws.</p><p><b>Upcast 2nd:</b> +1 target (4 total).</p>'},
burnHands:{t:'ğŸ”¥ Burning Hands',m:'1st Â· V,S Â· Self (15ft cone) Â· DEX 13',b:'<p>3d6 fire, half on save. Ignites flammable objects.</p><p><b>Upcast 2nd:</b> 4d6.</p>'},
faerie:{t:'âœ¨ Faerie Fire',m:'1st Â· V Â· 60ft (20ft cube) Â· DEX 13 Â· Conc 1 min',b:'<p>Creatures that fail outlined in light. Attacks against them have <b>advantage</b>. Can\'t benefit from invisibility.</p><p><b>Great in Icewind Dale against invisible/hidden enemies!</b></p>'},
guidBolt:{t:'âš¡ Guiding Bolt',m:'1st Â· V,S Â· 120ft Â· +5 to hit',b:'<p>4d6 radiant. Next attack against target has <b>advantage</b>.</p><p><b>Upcast 2nd:</b> 5d6.</p>'},
inflict:{t:'ğŸ’€ Inflict Wounds',m:'1st Â· V,S Â· Touch Â· +5 to hit',b:'<p>2d10 necrotic on hit. Highest single-target 1st level spell!</p><p><b>Upcast 2nd:</b> 3d10. (avg 16.5!)</p>'},
shield:{t:'ğŸ›¡ï¸ Shield of Faith',m:'1st Â· V,S,M Â· BA Â· 60ft Â· Conc 10 min',b:'<p>+2 AC to target for duration. Cast as Bonus Action!</p>'},
prayer:{t:'ğŸ’š Prayer of Healing',m:'2nd Â· V Â· 10 min Â· 30ft',b:'<p>Up to 6 creatures regain 2d8 HP each. <b>Out of combat only</b> (10 min cast time).</p>'},
scorchRay:{t:'ğŸ”¥ğŸ”¥ Scorching Ray',m:'2nd Â· V,S Â· 120ft Â· +5 each ray',b:'<p>3 rays, each 2d6 fire. Can target same or different creatures. <b>Max 6d6 (avg 21) on one target!</b></p><p>Your biggest damage spell right now.</p>'},
seeInvis:{t:'ğŸ‘ï¸ See Invisibility',m:'2nd Â· V,S,M Â· Self Â· 1 hr Â· No concentration!',b:'<p>See invisible creatures and objects. Also see into the Ethereal Plane. <b>No concentration!</b> Great pre-buff.</p>'},
spirWeap:{t:'âš”ï¸ Spiritual Weapon',m:'2nd Â· V,S Â· BA Â· 60ft Â· 1 min Â· NO concentration',b:'<p>Spectral weapon appears. Melee spell attack +5: 1d8+3 force.</p><p>Bonus Action each turn: move 20ft + attack again.</p><p><b>Not concentration!</b> Pair with Bless, Faerie Fire, or (at level 5) Spirit Guardians!</p>'},
bane2:{t:'ğŸ˜ˆ Bane (upcast 2nd)',m:'2nd slot Â· +1 target (4 total)',b:'<p>Same as Bane but affects up to 4 creatures.</p>'},
bless2:{t:'ğŸ™Œ Bless (upcast 2nd)',m:'2nd slot Â· +1 target (4 total)',b:'<p>Same as Bless but affects up to 4 creatures.</p>'},
burn2:{t:'ğŸ”¥ Burning Hands (upcast 2nd)',m:'2nd slot Â· 4d6 fire',b:'<p>Same cone, 4d6 instead of 3d6.</p>'},
guid2:{t:'âš¡ Guiding Bolt (upcast 2nd)',m:'2nd slot Â· 5d6 radiant',b:'<p>Same as Guiding Bolt, 5d6 radiant + advantage on next attack.</p>'},
inflict2:{t:'ğŸ’€ Inflict Wounds (upcast 2nd)',m:'2nd slot Â· 3d10 necrotic',b:'<p>3d10 = avg 16.5. Massive single-target damage at touch range.</p>'},
};

function sd(k){const d=D[k];if(!d)return;document.getElementById('dT').textContent=d.t;document.getElementById('dM').textContent=d.m;document.getElementById('dB').innerHTML=d.b;document.getElementById('ov').classList.add('show')}
function hd(){document.getElementById('ov').classList.remove('show')}

function sv(){const s=[...document.querySelectorAll('.sp')].map(p=>p.classList.contains('f'));const p=[...document.querySelectorAll('.pip')].map(p=>p.classList.contains('f'));localStorage.setItem('korin',JSON.stringify({hp,s,p}))}
function ld(){const r=localStorage.getItem('korin');if(!r)return;try{const d=JSON.parse(r);if(d.hp!==undefined)hp=d.hp;if(d.s)document.querySelectorAll('.sp').forEach((p,i)=>{if(d.s[i]!==undefined)p.classList.toggle('f',d.s[i])});if(d.p)document.querySelectorAll('.pip').forEach((p,i)=>{if(d.p[i]!==undefined)p.classList.toggle('f',d.p[i])})}catch(e){}}

ld();upHP();
</script>
</body>
</html>
